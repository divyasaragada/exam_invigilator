{% extends 'schedule/studstart.html' %}
{% block content %}
<br>
<table id='tblCustomers' class="mytable">
  <thead>
    <tr>
     <th>EXAM&nbsp;&nbsp;DATE</th>
     <th>TIME</th>
     
     <th>ROOMNO</th>
     <th>SUBJECT</th>
     <th>DEPARTMENT</th>
     <th>SEMESTER</th>
       
    </tr>
  </thead>
  <tbody>
    {% for i in data %} 
    <tr>
      <td data-column="EXAM&nbsp;&nbsp;DATE">{{ i.ex.exam_date }}</td>
      <td data-column="TIME">{{ i.ex.exam_time }}</td>
     
      <td data-column="ROOMNO">{{ i.room.roomno }}</td>
      <td data-column="SUBJECT">{{ i.subject }}</td>
      <td data-column="DEPARTMENT">{{ i.dept }}</td>
      <td data-column="SEMESTER">{{ i.semester }}</td>
     
    </tr>
    {% endfor %}
  </tbody>
</table>
<center>
<button id="btnExport" class="btn btn-success" onclick="Export()">DOWNLOAD</button>
</center>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.22/pdfmake.min.js"></script>
    <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/0.4.1/html2canvas.min.js"></script>
    <script type="text/javascript">
        function Export() {
            html2canvas(document.getElementById('tblCustomers'), {
                onrendered: function (canvas) {
                    var data = canvas.toDataURL();
                    var docDefinition = {
                        content: [{
                            heading:'EXAM TIMETABLE',
                            image: data,
                            width: 500
                        }]
                    };
                    pdfMake.createPdf(docDefinition).download("Table.pdf");
                }
            });
        }
    </script>
{% endblock content %}
